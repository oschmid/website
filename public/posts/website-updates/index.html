<!doctype html>
<html lang="en">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta itemprop="name" content="Website Updates">
<meta itemprop="description"
      content="The site broke recently. Somehow Hugo had stopped rendering posts or tags and the homepage looked like it had no content.">
<meta itemprop="datePublished" content="2019-10-13T07:34:48-07:00">
<meta itemprop="dateModified" content="2019-10-13T07:34:48-07:00">
<meta itemprop="wordCount" content="278">
<meta itemprop="keywords" content="Hugo,software development">
<title>Website Updates</title>
<meta name="description" content="Personal Blog">
<link rel="apple-touch-icon" href="/favicon-touch.png">
<link rel="stylesheet" href="/style.css">
<header class="center">
    <h1>Website Updates</h1>
    <p>
    <time datetime="2019-10-13 07:34">October 13, 2019</time>
    &nbsp;-&nbsp;
    <span><time datetime="2M">2 min</time> read</span>
</header>
<main>
    <p>The site broke recently. Somehow Hugo had stopped rendering posts or tags and the homepage looked like it had no
        content.
    <p><img src="./missing-posts-and-tags.png" alt="Homepage missing Posts and Tags" style="width: 100%;">
    <p>Turns out a Page&rsquo;s <code>.URL</code> field was deprecated for new syntax in an update of Hugo:
    <p>
    <code style="display: inline-block;">9:15:43 AM: WARN 2019/04/28 16:15:43 Page&#39;s .URL is deprecated and will be removed in a future release. Use .Permalink or .RelPermalink. If what you want is the front matter URL value, use .Params.url.</code>
    <p>I&rsquo;m not sure why exactly this broke things though. Back in April I configured Netlify to use a version of Hugo
    that still has a <code>.URL</code> field: 0.55.4. Maybe Netlify rebuilt my site in the intervening months?
    <p>In any case, this became a good moment to upgrade Hugo and give my site some much-needed maintenance.
    <ul>
        <li>So I got rid of some dead code from when I was experimenting with <a
                href="https://www.netlify.com/docs/functions/">Netlify Functions</a> and building the site using Gulp.
        </li>
        <li>Reran <a href="https://webhint.io/scanner/">webhint</a> and <a href="https://web.dev/measure">Lighthouse</a> and
            fixed some hints about security headers, resource cross-origin attributes, and upgrading to
            <code>sha384</code> for Subresource Integrity hashes.
        </li>
        <li>Updated my <a href="/robots.txt">robots.txt</a> to skip some pages that aren't worth crawling.</li>
        <li>Moved my posts from <code>/post/&lt;title>/</code> to the Hugo conventional <code>/posts/&lt;title>/</code>
            and added redirects.
        </li>
        <li>Fixed up some width styling to make blog posts more readable.</li>
        <li>Increased the colour contrast of some lighter elements so that they meet accessibility standards</li>
        <li>Changed the colours of the pagination elements to draw people into reading the next page as opposed to
            noticing the current page number.
        </li>
        <li>Used the CSS grayscale filter to make the social media share links less noticeable.</li>
        <li>Added a search field for the site that uses <a href="https://duckduckgo.com/">DuckDuckGo</a> as a backend.
        </li>
    </ul>
    <p>It&rsquo;s been a fun bit of website design!
    <hr>
    <footer class="justify-center">
        <a href="/contact/">Comment</a>
    </footer>
</main>
